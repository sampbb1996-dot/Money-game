<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta
  name="viewport"
  content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"
/>
<title>Field</title>

<style>
/* ==== HARD RESET FOR iOS SAFARI ==== */
* {
  -webkit-user-select: none !important;
  user-select: none !important;
  -webkit-touch-callout: none !important;
  -webkit-tap-highlight-color: transparent !important;
  outline: none !important;
}

/* Prevent zoom / bounce */
html, body {
  margin: 0;
  padding: 0;
  width: 100%;
  height: 100%;
  overflow: hidden;
  background: #0b1a2a;
  touch-action: none;
}

/* Fullscreen canvas */
canvas {
  display: block;
  width: 100%;
  height: 100%;
}
</style>
</head>

<body>
<canvas id="field"></canvas>

<script>
const canvas = document.getElementById("field");
const ctx = canvas.getContext("2d", { alpha: false });

function resize() {
  const dpr = window.devicePixelRatio || 1;
  canvas.width = Math.floor(window.innerWidth * dpr);
  canvas.height = Math.floor(window.innerHeight * dpr);
  ctx.setTransform(dpr, 0, 0, dpr, 0, 0);
}
window.addEventListener("resize", resize);
resize();

/* ==== FIELD PARAMETERS ==== */
const STREAKS = 120;
const streaks = [];

for (let i = 0; i < STREAKS; i++) {
  streaks.push({
    x: Math.random() * window.innerWidth,
    y: Math.random() * window.innerHeight,
    len: 4 + Math.random() * 10,
    speed: 0.3 + Math.random() * 0.7,
    angle: Math.PI * 0.75 + (Math.random() - 0.5) * 0.2,
    alpha: 0.15 + Math.random() * 0.25
  });
}

/* ==== RENDER LOOP ==== */
function draw() {
  ctx.fillStyle = "#0b1a2a";
  ctx.fillRect(0, 0, canvas.width, canvas.height);

  ctx.strokeStyle = "#cfd8e3";
  ctx.lineWidth = 1;

  for (const s of streaks) {
    ctx.globalAlpha = s.alpha;
    ctx.beginPath();
    ctx.moveTo(s.x, s.y);
    ctx.lineTo(
      s.x + Math.cos(s.angle) * s.len,
      s.y + Math.sin(s.angle) * s.len
    );
    ctx.stroke();

    s.x += Math.cos(s.angle) * s.speed;
    s.y += Math.sin(s.angle) * s.speed;

    if (
      s.x < -20 || s.x > window.innerWidth + 20 ||
      s.y < -20 || s.y > window.innerHeight + 20
    ) {
      s.x = Math.random() * window.innerWidth;
      s.y = Math.random() * window.innerHeight;
    }
  }

  requestAnimationFrame(draw);
}

draw();

/* ==== ABSOLUTE INPUT SUPPRESSION ==== */
["touchstart","touchmove","touchend","mousedown","mousemove","mouseup","contextmenu"].forEach(evt => {
  window.addEventListener(evt, e => e.preventDefault(), { passive: false });
});
</script>
</body>
</html>